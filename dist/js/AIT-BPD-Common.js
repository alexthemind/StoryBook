/*! ActiveIT 2020, AIT-BPD-Common ##CI_COMMIT_TAG## */
define("AIT-BPD-Common",[],(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";var i,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function r(t,e){for(var n={},i=[],o=0;o<t.length;o++){var r=t[o],l=e.base?r[0]+e.base:r[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var h=a(d),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(s[h].references++,s[h].updater(u)):s.push({identifier:d,updater:_(u,e),references:1}),i.push(d)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function h(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var s=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function u(t,e,n){var i=n.css,o=n.media,s=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,m=0;function _(t,e){var n,i,o;if(e.singleton){var s=m++;n=p||(p=l(e)),i=h.bind(null,n,s,!1),o=h.bind(null,n,s,!0)}else n=l(e),i=u.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=r(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=a(n[i]);s[o].references--}for(var l=r(t,e),c=0;c<n.length;c++){var d=a(n[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}n=l}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i,o,s=t[1]||"",a=t[3];if(!a)return s;if(e&&"function"==typeof btoa){var r=(n=a,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(o," */")),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[s].concat(l).concat([r]).join("\n")}return[s].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(o[a]=!0)}for(var r=0;r<t.length;r++){var l=[].concat(t[r]);i&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){var i=n(0),o=n(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);i(o,{insert:"head",singleton:!1}),t.exports=o.locals||{}},function(t,e,n){(e=n(1)(!1)).push([t.i,"",""]),t.exports=e},function(t,e){},function(t,e,n){var i=n(0),o=n(6);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);i(o,{insert:"head",singleton:!1}),t.exports=o.locals||{}},function(t,e,n){(e=n(1)(!1)).push([t.i,"",""]),t.exports=e},function(t,e,n){"use strict";n.r(e),n.d(e,"SBLSetFields",(function(){return b})),n.d(e,"SBLGetFields",(function(){return _})),n.d(e,"SBLRunBS",(function(){return p})),n.d(e,"SBLRunProcess",(function(){return m})),n.d(e,"presentViewer",(function(){return lt})),n.d(e,"isAndroid",(function(){return tt})),n.d(e,"XAppsElement",(function(){return it})),n.d(e,"XAppElementAccountTypeEnum",(function(){return W})),n.d(e,"XAppElementPartyTypeEnum",(function(){return Y})),n.d(e,"CloseAppActionsEnum",(function(){return Z})),n.d(e,"xAppsFilters",(function(){return nt})),n.d(e,"xFetch",(function(){return N})),n.d(e,"xConsoleMethods",(function(){return x})),n.d(e,"xConsole",(function(){return O})),n.d(e,"refreshSiebel",(function(){return D})),n.d(e,"AITViewController",(function(){return ot})),n.d(e,"AITNavigationViewController",(function(){return at})),n.d(e,"AITTabViewController",(function(){return ct})),n.d(e,"ASSETS_PATH",(function(){return J})),n.d(e,"X_PATH",(function(){return K})),n.d(e,"XAppDataGrid",(function(){return B})),n.d(e,"XAppDataGridFieldTypeEnum",(function(){return f})),n.d(e,"XAppDataGridHeaderTextAlingEnum",(function(){return v})),n.d(e,"XAppDataGridHeaderFieldTypeEnum",(function(){return g})),n.d(e,"XAppControl",(function(){return V})),n.d(e,"XAppControlEnumControlType",(function(){return S})),n.d(e,"XAppButton",(function(){return R})),n.d(e,"XAppButtonEnumsType",(function(){return y})),n.d(e,"XAppButtonSizeEnum",(function(){return C})),n.d(e,"XAppPreloader",(function(){return F})),n.d(e,"XAppDashboardBox",(function(){return q})),n.d(e,"XAppDialog",(function(){return X})),n.d(e,"XAppDialogAttachMethod",(function(){return P})),n.d(e,"XAppDialogButtonsIcons",(function(){return T})),n.d(e,"XAppDialogButtonsText",(function(){return w})),n.d(e,"XAppDialogIcons",(function(){return L})),n.d(e,"XAppDialogStatuses",(function(){return E})),n.d(e,"XAppDialogTitles",(function(){return I})),n.d(e,"XAppDialogTypes",(function(){return k})),n.d(e,"AitXIcon",(function(){return H})),n.d(e,"XAppModalSelector",(function(){return $})),n.d(e,"XAppList",(function(){return M})),n.d(e,"XAdminPdfHeader",(function(){return j})),n.d(e,"XAdminPdfFooter",(function(){return G})),n.d(e,"XAppModal",(function(){return z})),n(2);class i extends HTMLElement{constructor(){super(...arguments),this._viewControllers=[]}escapeUp(t){27==t.keyCode&&(t.stopPropagation(),this.close())}popState(t){t.stopPropagation(),t.preventDefault(),this.close()}beforeUnload(t){t.returnValue="Write something clever here..",this.prevBeforeUnload()}present(t){0==this._viewControllers.length&&this.setListeners();var e=document.createElement("div");e.setAttributeNode(document.createAttribute("modal-view-controller"));try{t.parentController=this}catch(t){}this._viewControllers.push(t),e.appendChild(t),this.appendChild(e);try{t.render()}catch(t){}}setListeners(){window.addEventListener("keyup",this.escapeUp.bind(this)),window.addEventListener("popstate",this.popState.bind(this)),this.prevBeforeUnload=window.onbeforeunload,window.onbeforeunload=this.beforeUnload.bind(this)}removeListeners(){window.removeEventListener("keyup",this.escapeUp.bind(this)),window.removeEventListener("popstate",this.popState.bind(this)),window.onbeforeunload=this.prevBeforeUnload}close(){0!=this._viewControllers.length&&(this.removeChild(this._viewControllers.pop().parentElement),0!=this._viewControllers.length||this.removeListeners())}}customElements.define("ait-modal-container",i);var o=i,s=window.modal;const a=function(t){27==t.keyCode&&(t.stopPropagation(),s.close())},r=function(t){t.stopPropagation(),t.preventDefault(),s&&s.close()},l=function(t){t.returnValue="Write something clever here..",s&&s.prevBeforeUnload()};class c extends HTMLElement{constructor(t){super(),this.options=Object.assign({title:"",content:document.createElement("div"),cancelable:!0},t)}connectedCallback(){s=this,this.click(),this.focus(),this.options.cancelable&&window.addEventListener("keyup",a),window.addEventListener("popstate",r.bind(this)),this.prevBeforeUnload=window.onbeforeunload,window.onbeforeunload=l,this.render()}render(){var t,e;let n=document.createElement("div");n.classList.add("ait-modal-container"),n.style.width=null!==(t=this.options.width)&&void 0!==t?t:"",n.style.height=null!==(e=this.options.height)&&void 0!==e?e:"";let i=document.createElement("header"),o=document.createElement("span");if(o.appendChild(document.createTextNode(""+this.options.title)),i.appendChild(o),this.options.cancelable){let t=document.createElement("button");t.appendChild(document.createTextNode("X")),t.addEventListener("mouseup",t=>{this.close()}),i.appendChild(t)}n.appendChild(i);let s=document.createElement("content");this.options.content.parentController=this,s.appendChild(this.options.content),n.appendChild(s),this.appendChild(n)}disconnectedCallback(){s=null,this.options.cancelable&&window.removeEventListener("keyup",a),window.removeEventListener("popstate",r.bind(this)),window.onbeforeunload=this.prevBeforeUnload}close(){this.parentElement.removeChild(this)}}customElements.define("ait-modal",c);var d=c;class h extends HTMLElement{constructor(){super()}root(t){if(null!=this._rootVC)return this;this._rootVC=t;try{t.navigationController=this,t.parentController=this}catch(t){}return this.appendChild(t),this}connectedCallback(){if(null==this._rootVC)throw new Error("required root view controller");try{this._rootVC.viewDidLoad()}catch(t){}}}customElements.define("ait-host-container",h);var u=h;const p=(t,e,n)=>function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function r(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}l((i=i.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function*(){if(!t)throw"Invalid Parameter: BSName";return new Promise((i,o)=>{try{const s=SiebelApp.S_App.GetService(t);let a=SiebelApp.S_App.NewPropertySet();const r=n instanceof Object?n:{};let l;Object.keys(r).forEach(t=>{a.SetProperty(t,r[t])});let c={async:!0,scope:this,seflbusy:!1,cb:function(){if(l=arguments[2],l)try{let t=l.GetChildByType("ResultSet").JSON();i(t)}catch(t){o(t)}}};setTimeout(()=>{s.InvokeMethod(e,a,c)})}catch(t){o(t)}})}));const m=(t,e)=>function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function r(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}l((i=i.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function*(){if(SiebelJS.LogLevel="debug",SiebelJS.Debug("AITS_App:RunProcess:"+JSON.stringify(arguments)),!t)throw"Invalid Parameter: processName";return new Promise((n,i)=>{try{const i=SiebelApp.S_App.GetService("Workflow Process Manager");var o=SiebelApp.S_App.NewPropertySet();o.SetProperty("ProcessName",t);const r=e instanceof Object?e:{};var s;Object.keys(r).forEach(t=>{o.SetProperty(t,r[t])});var a={async:!0,scope:this,seflbusy:!1,cb:function(){if(null!==(s=arguments[2])){var t=s.JSON();n(t)}}};setTimeout(()=>{i.InvokeMethod("RunProcess",o,a)})}catch(t){i(t)}})}));const _=t=>function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function r(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}l((i=i.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function*(){return new Promise((e,n)=>{try{const i=SiebelApp.S_App.GetService("BPD_AIT_Utilities"),o=SiebelApp.S_App.NewPropertySet();let s;o.SetProperty("BusObj",t.BOName),o.SetProperty("BusComp",t.BCName),o.SetProperty("SearchExpr",t.searchSpec),t.fields.forEach((t,e)=>{o.SetProperty("Field"+(e+1),t)});const a={async:!0,scope:this,seflbusy:!1,cb:function(){if(s=arguments[2],null!==s)try{const n=s.GetChildByType("ResultSet").childArray.map(e=>{const n={};return t.fields.forEach((t,i)=>{n[t]=e.GetProperty(t)}),n});e(n)}catch(t){n(t)}}};setTimeout(()=>{i.InvokeMethod("QuerySelectedFields",o,a)})}catch(t){n(t)}})}));const b=({BOName:t,BCName:e,searchSpec:n,fields:i})=>function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function r(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}l((i=i.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function*(){return new Promise((o,s)=>{try{const a=SiebelApp.S_App.GetService("BPD_AIT_Utilities"),r=SiebelApp.S_App.NewPropertySet();let l;r.SetProperty("BOName",t),r.SetProperty("BCName",e),r.SetProperty("Search",n),r.SetProperty("Fields",i.map(t=>t.name).join(",")),r.SetProperty("Values",i.map(t=>t.value).join(","));const c={async:!0,scope:this,seflbusy:!1,cb:function(){l=arguments[2];try{null!==l&&("OK"===l.propArray.Status?o(l.propArray[0]):s(l.propArray[0]))}catch(t){s(t)}}};setTimeout(()=>{a.InvokeMethod("SetSVFields",r,c)})}catch(t){s(t)}})}));var f,g,v,x,y,C,S,A,P,T,w,E,k,I,L;!function(t){t.date="date",t.value="value",t.button="button",t.indicator="indicator",t.currency="currency",t.checkBox="checkBox"}(f||(f={})),function(t){t.checkBox="checkBox"}(g||(g={})),function(t){t.left="left",t.right="right",t.center="center"}(v||(v={}));class N{abort(){this._ctrl.abort()}fetch(t,e,n){this._ctrl=new AbortController;const i=this._ctrl.signal;return n&&setTimeout(()=>this._ctrl.abort(),n),fetch(t,Object.assign(Object.assign({},e),{signal:i}))}}function O(t,e){"debug"===SiebelJS.LogLevel&&console[t](e)}function D(){const t=SiebelApp.S_App.GetActiveView();t.SetActiveAppletByName(Object.keys(t.GetAppletMap())[0]);var e=window.top.$.Event("keydown");e.altKey=!0,e.which=13,window.top.$("body").trigger(e)}!function(t){t.info="info",t.log="log",t.table="table",t.error="error",t.groupCollapsed="groupCollapsed",t.group="group",t.groupEnd="groupEnd",t.trace="trace"}(x||(x={})),function(t){t.primary="primary",t.secundary="secundary",t.back="back",t.empty="empty"}(y||(y={})),function(t){t.small="--small",t.medium="--medium",t.big="--big"}(C||(C={}));class R extends XTagElement{constructor(t){super(),t=t||{},this._buttonType=t.type||y.primary,this._buttonIcon=t.icon||"",this._buttonText=t.text||"",this._buttonSize=t.size||C.medium,this.disabled=t.disabled||!1}connectedCallback(){setTimeout(()=>{this.isConnected&&this.render(this._buttonType==y.back?"back":"button")})}set"buttonType::attr"(t){this._buttonType=t}set"buttonIcon::attr"(t){this._buttonIcon=t}set"buttonText::attr"(t){this._buttonText=t}set"buttonSize::attr"(t){this._buttonSize=t}set"buttonDisabled::attr(boolean)"(t){this._buttonDisabled=!1!==t}set disabled(t){this._buttonDisabled=!1!==t,t?this.setAttributeNode(document.createAttribute("disabled")):this.removeAttribute("disabled")}get disabled(){return this._buttonDisabled}"back::template"(){return`<button class="x-app-button --back"><ait-x-icon icon-name="${this._buttonIcon||"chevron-left"}"></ait-x-icon></button>`}"button::template"(){return function(t){const e={primary:{variant:"--primary",text:"Aceptar",icon:"check-circle"},secundary:{variant:"--secundary",text:"Cancelar",icon:"times-circle"},empty:{variant:"--empty",text:""}};try{return`<button class="x-app-button ${e[t.type].variant||""} ${t.size}">\n            <ait-x-icon icon-name="${t.icon||e[t.type].icon}"></ait-x-icon>\n            <span>${t.text||e[t.type].text}</span>\n        </button>`}catch(t){throw new Error("x-app-button: bad config (҂◡_◡)")}}({icon:this._buttonIcon,text:this._buttonText,type:this._buttonType,size:this._buttonSize})}}xtag.create("x-app-button",R);class B extends XTagElement{constructor(t){super(),this._tableHeaders=[],this._headersProperties=[],this._tableFields=[],this._tableData=[],this._data=[],this._filter={},this._tableNoResults=!1,this._pageable=!1,this._scrollable=!1,this._actualPage=0,this._dataForPagination=[],this._elementInsideTable=!1,this._setConfig(t||{})}_setConfig(t){this._tableCaption=t.caption||this._tableCaption,this._tableHeaders=t.headers||this._tableHeaders||[],this._headersProperties=t.headersProperties||this._headersProperties||[],this._tableFields=t.fields||this._tableFields,this._tableData=t.data||[],this._clickable=t.clickable||!1,this._tableNoResults=t.noResults,this._xModel=t.xModel,this._pageable=t.pageable||!1,this._scrollable=t.scrollable||!1,this._elementsPerPage=t.elementPage||0,this._elementInsideTable=t.elementInsideTable||!1,this["gridClickable::attr(boolean)"]=t.clickable||this._clickable,this._pageable&&(this._totalPage=this._tableData.length>0?Math.ceil(this._tableData.length/this._elementsPerPage):0,this._nextButton=new R({icon:"angle-right",type:y.empty,size:C.small}),this._previousButton=new R({icon:"angle-left",type:y.empty,size:C.small}),this._lastButton=new R({icon:"angle-double-right",type:y.empty,size:C.small}),this._firstButton=new R({icon:"angle-double-left",type:y.empty,size:C.small}),this._selectPage=document.createElement("select"),this._selectPage.setAttribute("class","numpage"),this._spanPage=document.createElement("span"),this._spanPage.setAttribute("class","totalpage"),this._previousButton.addEventListener("click",()=>{this.previousPage()}),this._nextButton.addEventListener("click",()=>{this.nextPage()}),this._lastButton.addEventListener("click",()=>{this.lastPage()}),this._firstButton.addEventListener("click",()=>{this.firstPage()}),this._selectPage.onchange=()=>{""!=this._selectPage.value&&(this._actualPage=Number(this._selectPage.value)-1,this.updateElments())}),this._xModel&&this.setAttribute("x-model",this._xModel),xtag.addEvent(this,'click:delegate(td input[type="checkbox"])',t=>{let e=t.target.closest("tr"),n=t.target.closest('input[type="checkbox"]');for(var i=0;i<this._tableData.length;i++)e.getAttribute("x-id")==this._tableData[i].xId&&(this._tableData[i][n.getAttribute("name").split("-checkbox")[0]]=!this._tableData[i][n.getAttribute("name").split("-checkbox")[0]]);console.log(this._tableData)}),xtag.addEvent(this,'click:delegate(th input[type="checkbox"])',t=>{let e=t.target.closest('input[type="checkbox"]'),n=e.checked;for(var i=0;i<this._tableData.length;i++)this._data[i][e.getAttribute("name")]=n,this._tableData[i][e.getAttribute("name")]=n;this.querySelectorAll("[name="+e.getAttribute("name")+"-checkbox]").forEach(t=>{t.checked=n}),console.log(this._tableData)})}connectedCallback(){this.filter(this._filter)}set config(t){this._setConfig(t)}set"gridHeaders::attr"(t){this._tableHeaders=t.split("|")}set"gridCaption::attr"(t){this._tableCaption=t}set"gridClickable::attr(boolean)"(t){this._clickable=!1!==t}"::template"(){return this._pageable&&setTimeout(()=>{this._inputElementsPerPage=this.querySelector("#inputElementsPage"),this._inputElementsPerPage.value=this._elementsPerPage.toString(),this._inputElementsPerPage.addEventListener("change",t=>{this._elementsPerPage=Number(this._inputElementsPerPage.value),this._actualPage=0,this._totalPage=this._dataForPagination.length>0?Math.ceil(this._dataForPagination.length/this._elementsPerPage):0,this.fillSelectPage(),this._data=[];for(let t=0;t<this._elementsPerPage&&t<this._dataForPagination.length;t++)this._data.push(this._dataForPagination[t]);this.filter(this._filter)}),this._spanPage.innerHTML="/"+this._totalPage;var t=this.querySelector("#sectionPage");t.appendChild(this._firstButton),t.appendChild(this._previousButton),t.appendChild(this._selectPage),t.appendChild(this._spanPage),t.appendChild(this._nextButton),t.appendChild(this._lastButton)}),`\n        <section class="x-data-grid" ${(t={caption:this._tableCaption,headers:this._tableHeaders,headersProperties:this._headersProperties,fields:this._tableFields,data:this._tableData,noResults:this._tableNoResults,clickable:this._clickable,pageable:this._pageable,scrollable:this._scrollable}).clickable?"clickable":""}>\n        ${t.scrollable?'<div class="scrollabletable">':""}\n            <table class="x-data-grid__list ${t.noResults?"--no-results ":""}" >\n                ${t.caption?"<caption>"+t.caption+"</caption>":""}\n    ${(e=>{let n="";for(var i=0;i<e.length;i++)n+=`<th ${t.headersProperties.length>i&&t.headersProperties[i].headersWidth?"width="+t.headersProperties[i].headersWidth:""} \n                            ${t.headersProperties.length>i&&t.headersProperties[i].textAling?"style=text-align:"+t.headersProperties[i].textAling:"style=text-align:left"}\n                >`,t.headersProperties.length>i&&t.headersProperties[i].type&&t.headersProperties[i].type==g.checkBox&&(n+=`<input type="checkbox" name="${t.fields[i].name}">`),n+=e[i]+"</th>";return e.length?`\n                <thead>\n                    <tr>\n                        ${n}\n                    </tr>\n                </thead>\n            `:""})(t.headers)}\n                <tbody>\n    ${t.noResults?`<tr>\n                    <td colspan="${t.headers.length}">\n                        <div class="x-data-grid__empty-row">\n                            <ait-x-icon icon-name="exclamation-circle"></ait-x-icon> SIN RESULTADOS\n                        </div>\n                    </td>\n                </tr>`:""}\n    ${(e=>{let n="";return e.forEach(e=>{e.xId=Math.floor(Math.random()*(new Date).getTime()+1)+"-"+Math.floor(100*Math.random()+1);let i=`<tr x-id="${e.xId}" ${e.notSelectable?'class="tableInside"':""} tr>`;t.fields.forEach((n,o)=>{let s="";if(o===t.fields.length-1&&t.clickable&&(s='<ait-x-icon class="x-data-grid__chevron" icon-name="chevron-circle-right"></ait-x-icon>'),"string"==typeof n)i+=`<td title="${e[n]}">\n                            <div class="x-data-grid__wrapper">\n                                <span class="x-data-grid__value">${e[n]}</span> ${s}\n                            </div>\n                        </td>`;else{let t=n.xFilter?"string"==typeof n.xFilter?n.xFilter:n.xFilter.name:void 0,o=n.xFilter?"string"==typeof n.xFilter?void 0:n.xFilter.config:void 0,a=t?e[n.name].xFilter(t,o):e[n.name];n.type===f.button?i+=`<td\n                                class="x-data-grid__td-${f.value} ${n.suffix?("function"==typeof n.suffix?n.suffix(e):n.suffix)[e[n.name]]:""}"\n                                ait-ui="${n.aitUi}">\n                                    <x-app-button button-type="primary" name="${n.name}"></x-app-button>\n                            </td>`:n.type===f.checkBox?i+=`<td\n                                class="x-data-grid__td-${f.value} ${n.suffix?("function"==typeof n.suffix?n.suffix(e):n.suffix)[e[n.name]]:""}"\n                                ait-ui="${n.aitUi}">\n                                    <input type="checkbox" name="${n.name}-checkbox">\n                            </td>`:i+=`<td\n                                class="x-data-grid__td-${n.type||f.value} ${n.suffix?("function"==typeof n.suffix?n.suffix(e):n.suffix)[e[n.name]]:""}"\n                                ait-ui="${n.aitUi}"\n                                title="${a}">\n                                    <div class="x-data-grid__wrapper">\n                                        <span class="x-data-grid__value">${a}</span> ${s}\n                                    </div>\n                                </td>`}}),n+=i+"</tr>"}),n})(t.data)}\n                </tbody>\n            </table>\n            ${t.scrollable?"</div>":""}\n        </section>\n        ${t.pageable?'<section id="sectionPage" class="cpagenation">\n                        <span class="pagequantity"> Items por página <input type="number" id="inputElementsPage" oninput="validity.valid || (value=\'\');"  min="1" > </span>\n                    </section>':""}`;var t}set value(t){if(this._pageable){this._actualPage=0,this._data=[],this._dataForPagination=t,this._totalPage=this._dataForPagination.length>0?Math.ceil(this._dataForPagination.length/this._elementsPerPage):0,this.fillSelectPage();for(let t=0;t<this._elementsPerPage&&t<this._dataForPagination.length;t++)this._data.push(this._dataForPagination[t]);this.filter(this._filter)}else this._data=t,this.filter(this._filter)}get value(){return this._data}set elementsPerPage(t){this._elementsPerPage=t}get elementsPerPage(){return this._elementsPerPage}filter(t){t.term&&t.property?(this._tableData=this._data.filter(e=>-1!=e[t.property].toLowerCase().indexOf(t.term.toLowerCase())),this._tableNoResults=!this._tableData.length):(this._tableData=[...this._data],this._tableNoResults=!1),this.render()}onSelect(t,e){this._clickable?xtag.addEvent(this,"click:delegate(tr:not(.tableInside))",n=>{O(x.log,n),O(x.log,this);let i=n.target.closest("tr"),o=i.closest("tbody");if(o.closest("x-app-data-grid")==this){if(O(x.log,i.rowIndex),this._elementInsideTable&&i.hasAttribute("selected"))return void o.querySelectorAll("tr").forEach(t=>{t.removeAttribute("selected"),t.classList.contains("tableInside")&&t.remove()});if(o.querySelectorAll("tr").forEach(t=>{t.removeAttribute("selected"),t.classList.contains("tableInside")&&t.remove()}),i.setAttributeNode(document.createAttribute("selected")),t(this._data.filter(t=>t.xId==i.getAttribute("x-id"))[0]),this._elementInsideTable){let t=o.closest("table").insertRow(i.rowIndex+1);t.setAttribute("class","tableInside"),t.setAttribute("disabled","true");let n=document.createElement("td");n.setAttribute("colspan",this._tableHeaders.length.toString()),n.appendChild(e),t.appendChild(n)}}}):xtag.addEvent(this,"click:delegate(x-app-button)",e=>{let n=e.target.closest("tr"),i=e.target.closest("x-app-button");t(i.getAttribute("name"),this._data.filter(t=>t.xId==n.getAttribute("x-id"))[0])})}previousPage(){this._actualPage>0&&(this._actualPage--,this.updateElments())}nextPage(){this._actualPage<this._totalPage-1&&(this._actualPage++,this.updateElments())}lastPage(){this._actualPage<this._totalPage-1&&(this._actualPage=this._totalPage-1,this.updateElments())}firstPage(){this._actualPage>0&&(this._actualPage=0,this.updateElments())}updateElments(){this._tableData=[],this._data=[],this._selectPage.value=(this._actualPage+1).toString();var t=this._actualPage*this._elementsPerPage;for(let e=t;e<t+this._elementsPerPage&&e<this._dataForPagination.length;e++)this._data.push(this._dataForPagination[e]),this._tableData.push(this._dataForPagination[e]);this.render()}fillSelectPage(){this._selectPage.innerHTML="",this._spanPage.innerHTML="/"+this._totalPage;for(let t=1;t<=this._totalPage;t++){let e=document.createElement("option");e.text=t.toString(),e.value=t.toString(),this._selectPage.add(e)}}}xtag.create("x-app-data-grid",B),function(t){t.select="select",t.input="input",t.radio="radio",t.check="checkbox"}(S||(S={})),function(t){t.email="email",t.phone="tel",t.number="number",t.date="date",t.password="password",t.search="search",t.textarea="textarea"}(A||(A={}));class M extends XTagElement{constructor(t){super(),this._listRecordset=[],this._listDataRecordset=[],this._listRecordset=t||[],xtag.addEvent(this,"click:delegate(li)",t=>{let e=t.target.closest("li");this._listIndex=this._getIndex(e),this.value=this._listDataRecordset[this._listIndex],this._listCallback&&this._listCallback(this.value)})}_checkItem(t){var e;if(null===(e=this.querySelector("li[selected]"))||void 0===e||e.removeAttribute("selected"),t){const e=this.querySelectorAll("li")[this._listDataRecordset.indexOf(t)];null==e||e.setAttributeNode(document.createAttribute("selected"))}}_getIndex(t){return Array.prototype.slice.call(this.querySelector("ul").children).indexOf(t)}onSelect(t){this._listCallback=t}filter(t){t.term&&t.property?this._listDataRecordset=this._listRecordset.filter(e=>-1!=e[t.property].toLowerCase().indexOf(t.term.toLowerCase())):this._listDataRecordset=[...this._listRecordset],this.render()}connectedCallback(){}set value(t){this._listValue=t,this._checkItem(this._listValue)}get value(){return this._listValue}set recordset(t){this._listRecordset=this._listDataRecordset=t.map(t=>(t.value=t.value.toString(),t.label=t.label.toString(),t)),this.render()}get recordset(){return this._listRecordset}"::template"(){return setTimeout(()=>{this.classList.add("--connected"),this._checkItem(this._listValue);let t=this.closest(".x-app-modal-selector__scroller"),e=this.querySelector("li[selected]");t&&e&&t.scrollTo(0,e.offsetTop-15)}),`\n        <div class="x-app-list">\n            <ul class="x-app-list__recordset">\n    ${(t=>{let e="";return t.forEach(t=>{e+=`<li class="x-app-list__recordset-item" title="${t.label}">\n                    <div class="x-app-list__recorset-label">${t.label}</div>\n                    <ait-x-icon icon-name="check-circle"></ait-x-icon>\n                </li>`}),""+e})(this._listDataRecordset)}\n            </ul>\n        </div>\n    `}}xtag.create("x-app-list",M);class $ extends XTagElement{constructor(t){super(),this._modalSelectorRecordset=[],this._setConfig(t)}_setConfig(t){this._modalSelectorTitle=t.title||"Busqueda",this._modalSelectorRecordset=t.recordset||[]}_paintRecordset(){this._modalSelectorList&&(this._modalSelectorList.recordset=this._modalSelectorRecordset)}show(){const t=document.body,e=t.querySelector("x-app-modal-selector:last-of-type"),n=t.querySelector(":first-child");return e?e.parentNode.insertBefore(this,e.nextSibling):n.parentNode.insertBefore(this,n),new Promise((t,e)=>{this._modalSelectorList=new M,this._modalSelectorList.value=this.value,this._modalSelectorList.onSelect(e=>{this.value=e,t(e),this.detach(t)}),xtag.addEvent(this,"click:delegate(.x-app-modal-selector__close)",t=>{t.preventDefault(),this.detach(e)});const n=t=>{"Escape"===t.code&&(window.removeEventListener("keyup",n),this.detach(e))};window.addEventListener("keyup",n)})}detach(t){this.classList.add("--disconnected"),this.classList.remove("--connected"),setTimeout(()=>{this.remove(),t()},500)}connectedCallback(){setTimeout(()=>{this.isConnected&&this.render().then(()=>{this.recordset=this._modalSelectorRecordset,this._modalSelectorRecordset.length||this.querySelector("x-app-preloader").increase()})})}set value(t){this._modalSelectorValue=t}get value(){return this._modalSelectorValue}set recordset(t){this._modalSelectorRecordset=t,this.querySelector("x-app-preloader").decrease(),this._paintRecordset()}get recordset(){return this._modalSelectorRecordset}"::template"(){return setTimeout(()=>{this.querySelector(".x-app-modal-selector__recordset").appendChild(this._modalSelectorList),this.classList.remove("--disconnected"),this.classList.add("--connected")}),`\n        <div class="x-app-overlay">\n            <div class="x-app-modal-selector">\n                <div class="x-app-modal-selector__header">\n                    <h3 class="x-app-modal-selector__title">${this._modalSelectorTitle}</h3>\n                    <button class="x-app-modal-selector__close">\n                        <ait-x-icon icon-name="times"></ait-x-icon>\n                    </button>\n                </div>\n                <div class="x-app-modal-selector__search">\n                    <x-app-search search-target-property="label" search-target="x-app-list" search-auto-focus></x-app-search>\n                </div>\n                <div class="x-app-modal-selector__content">\n                    <x-app-preloader></x-app-preloader>\n                    <div class="x-app-modal-selector__wrapper">\n                        <div class="x-app-modal-selector__scroller">\n                            <div class="x-app-modal-selector__recordset"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `}}xtag.create("x-app-modal-selector",$);class V extends XTagElement{constructor(t){super(),this._controlPlaceholder="",this._controlType=S.input,this._controlDisabled=!1,this._controlReadOnly=!1,this._controlAutofocus=!1,this._controlValue="",this._controlChars="",this._controlHistory=[""],this._dataRecordset=[],this._controlSelectRecordset=[],this.config=t}_setConfig(t){t=t||{},this._controlType=t.type||S.input,this._controlSubType=t.subType,this._controlLabel=t.label,this._controlPlaceholder=t.placeholder,this._controlDisabled=t.disabled,this._controlReadOnly=t.readonly,this._controlName=t.name,this._controlIcon=t.icon,this._controlId=t.id,this._controlValue=t.value,this._controlMaxlength=t.maxlength,this._xModel=t.xModel,this._controlId&&(this.id=this._controlId),this._controlName&&this.setAttribute("name",this._controlName)}_toggleEmptyClass(){let t=this.querySelector("input");this._controlValue?(t.classList.add("x-app-control__input--not-empty"),t.classList.remove("x-app-control__input--empty")):(t.classList.remove("x-app-control__input--not-empty"),t.classList.add("x-app-control__input--empty"))}_configUI(t){switch(t){case S.select:xtag.addEvent(this,"click:delegate(input)",t=>{this._controlSelectModalSelector=new $({title:this._controlLabel,recordset:this._controlSelectRecordset}),this._controlSelectModalSelector.value=this.value,this._controlSelectModalSelector.show().then(t=>{this.value=t.value,this._controlOnChangeCallback&&this._controlOnChangeCallback(this.value)})});break;case S.input:xtag.addEvent(this,"input:delegate(input)",t=>{const e=this.querySelector("input"),n=e.value,i=this._controlChars;if(i){let t=new RegExp("[^"+({"only-numbers":"0-9",numbers:"0-9\\s","only-letters":"A-Za-z",letters:"A-Za-z\\s",email:"\\wÑñ@._\\-","alpha-numeric":"\\w\\s","latin-alpha-numeric":"\\w\\sÑñáéíóúüÁÉÍÓÚÜ´¨"}[i]||i)+"]","ig");e.value=n.replace(t,"")}}),xtag.addEvent(this,"change:delegate(input)",t=>{this.value=this.querySelector("input").value,this._toggleEmptyClass()})}}focus(){this.querySelector("input, textarea").focus()}onChange(t){this._controlOnChangeCallback=t,xtag.addEvent(this,"change:delegate(input)",t=>{let e=this._controlSelectRecordset.filter(t=>-1!==[t.value,t.label].indexOf(this.querySelector("input").value))[0]||{value:"",label:""},n=S.select===this._controlType?e:t.target.value,i="string"==typeof n?n:n.value;t.isTrusted||((this._controlHistory.concat().splice(-1)[0]!==i||this._isExplicit)&&(this._isExplicit=!1,this._controlOnChangeCallback(n)),this._controlHistory.concat().splice(-1)[0]!==i&&this._controlHistory.push(i))})}set config(t){this._setConfig(t)}set disabled(t){this._controlDisabled=t;let e=this.querySelector("input, textarea");e&&(e.disabled=t)}get value(){var t;return S.select==this._controlType?this._controlSelectRecordset.filter(t=>t.value===this._controlValue)[0]||{}:(null===(t=this.querySelector("input, textarea"))||void 0===t?void 0:t.value)||this._controlValue||""}set value(t){this._controlValue=t||"","object"==typeof this._controlValue&&(this._controlValue=t.value),this._controlValue=this._controlValue.toString();let e=this.querySelector("input, textarea");e&&(e.value="",(t||this.getAttributeNode("x-model"))&&(e.value=this._controlType!==S.select?t:(()=>{var t;return(null===(t=this._controlSelectRecordset.filter(t=>t.value===this._controlValue)[0])||void 0===t?void 0:t.label)||""})()),this._toggleEmptyClass())}set recordset(t){this._controlType==S.select&&(t=t.map(t=>(t.label=-1!==["string","number"].indexOf(typeof t.label)?t.label.toString():"",t.value=-1!==["string","number"].indexOf(typeof t.value)?t.value.toString():"",t)),this._controlSelectRecordset=t,this._dataRecordset=t,this.render("select").then(()=>{this.value=this._controlValue||""}))}get recordset(){return this._controlSelectRecordset}connectedCallback(){setTimeout(()=>{if(this.isConnected){if(this._xModel&&this.setAttribute("x-model",this._xModel),this._controlSelectOptionsHTML=this.querySelectorAll("option"),this._controlSelectOptionsHTML.length){let t=[];this._controlSelectOptionsHTML.forEach(e=>{t.push({label:e.text,value:e.value})}),this._controlSelectRecordset=t,this._dataRecordset=t}this.title=this._controlLabel,this.render(this._controlType||"").then(()=>{this._configUI(this._controlType),this.value=this._controlValue||"",this._controlAutofocus&&this.focus()})}})}set"controlType::attr"(t){this._controlType=t}set"controlSubType::attr"(t){this._controlSubType=t}set"controlPlaceholder::attr"(t){this._controlPlaceholder=t}set"controlName::attr"(t){this._controlName=t,t&&this.setAttribute("name",t)}set"controlId::attr"(t){this._controlId=t,t&&(this.id=t)}set"controlIcon::attr"(t){this._controlIcon=t}set"controlLabel::attr"(t){this._controlLabel=t,this.querySelector(".x-app-control__label")&&(this.querySelector(".x-app-control__label").textContent=t)}set"controlDisabled::attr(boolean)"(t){this._controlDisabled=!1!==t}set"controlReadonly::attr(boolean)"(t){this._controlReadOnly=!1!==t}set"controlValue::attr"(t){this._controlValue=t}set"controlAutofocus::attr(boolean)"(t){this._controlAutofocus=!1!==t}set"controlChars::attr"(t){this._controlChars=t}set"controlMaxlength::attr"(t){this._controlMaxlength=t}"input::template"(){return function(t){const e=`\n            ${t.maxlength?'maxlength="'+t.maxlength+'"':""}\n            placeholder="${t.placeholder||""}"\n            ${t.disabled?"disabled":""}\n            ${t.readonly?"readonly":""}\n        `;return`\n        <div class="x-app-control">\n            <label>\n    ${(()=>{switch(t.subType){case A.textarea:return`<textarea ${e} class="x-app-control__input x-app-control__input--textarea"></textarea>`;case A.password:return`<input type="password" ${e} class="x-app-control__input" />`;default:return`<input type="text" ${e} class="x-app-control__input" />`}})()}\n                <span class="x-app-control__label">${t.label}</span>\n                ${t.icon?'<ait-x-icon icon-name="'+(t.icon||"")+'" class="x-app-control__icon"></ait-x-icon>':""}\n            </label>\n        </div>\n    `}({placeholder:this._controlPlaceholder,label:this._controlLabel,name:this._controlName,id:this._controlId,disabled:this._controlDisabled,icon:this._controlIcon,readonly:this._controlReadOnly,maxlength:this._controlMaxlength,subType:this._controlSubType})}"select::template"(){return`\n        <div class="x-app-control" tab-index="0">\n            <label>\n                <input\n                    type="text"\n                    class="x-app-control__input"\n                    placeholder="${(t={placeholder:this._controlPlaceholder,label:this._controlLabel,name:this._controlName,id:this._controlId,disabled:this._controlDisabled,recordset:this._dataRecordset,readonly:this._controlReadOnly}).placeholder}"\n                    title="${t.label}"\n                    ${t.disabled?"disabled":""}\n                    readonly\n                />\n                <span class="x-app-control__label">${t.label}</span>\n                <ait-x-icon icon-name="window-minimize" class="x-app-control__icon"></ait-x-icon>\n            </label>\n        </div>\n    `;var t}"radio::template"(){return`\n        <div class="x-app-control">\n            <label>\n                <span>${(t={placeholder:this._controlPlaceholder}).label}</span>\n                <input type="radio" value="${t.value}" />\n            </label>\n        </div>\n    `;var t}"check::template"(){return this._controlPlaceholder,'\n        <div class="x-app-control">\n            <label></label>\n        </div>\n    '}}xtag.create("x-app-control",V);class F extends XTagElement{constructor(){super(...arguments),this._preloaderCount=0}connectedCallback(){setTimeout(()=>{this.isConnected&&this.render()})}increase(){this.style.opacity="1",this._preloaderCount++}decrease(){this._preloaderCount?this._preloaderCount--:this._preloaderCount=0,this._preloaderCount||(this.style.opacity="0")}"::template"(){return'<div class="x-app-preloader"></div>'}}xtag.create("x-app-preloader",F),n(4);class q extends XTagElement{connectedCallback(){setTimeout(()=>{this.isConnected&&this.render().then(()=>{this.value=this._boxValue})})}get value(){return this._boxValue}set value(t){if(this._boxValue=t,this.getAttributeNode("x-model")){let t=this.closest("[x-application]");this.viewValue=(this._boxValue||this.getAttributeNode("x-model"))&&t._getDeepValue(t._model,this.getAttribute("x-model").split("."))||""}}get viewValue(){return this._boxViewValue}set viewValue(t){let e=this.getAttribute("x-filter"),n=this.getAttribute("x-filter-config");this._boxViewValue=e?t.xFilter(e,n||void 0):t;let i=this.querySelector(".dashboard-box__value");i&&(i.textContent=this._boxViewValue)}set"boxLabel::attr"(t){this._boxLabel=t}set"boxValue::attr"(t){this._boxValue=t}"::template"(){return`<div class="x-app-dashboard-box">\n        <div class="dashboard-box__label">${(t={label:this._boxLabel,value:this._boxValue}).label}</div>\n        <div class="dashboard-box__value">${t.value}</div>\n    </div>`;var t}}function U(t){return`<div class="x-app-dialog">\n        <div class="dialog__overlay"></div>\n        <div class="dialog__container" ait-ui="gs-columns --auto-max-content">\n            <div class="dialog__icon">\n                <ait-x-icon icon-name="${t.icon}" icon-color="${t.color}"></ait-x-icon>\n            </div>\n            <div class="dialog__content" ait-ui="fs-direction-column">\n                <div class="dialog__title">${t.title}</div>\n                <div class="dialog__message">${t.message}</div>\n            </div>\n            <div class="dialog__actions" ait-ui="gs-columns --auto-max-content align-items-center">\n    ${e=t.actions.OK,e?`<x-app-button button-type="primary" button-icon="${e.icon}" button-text="${e.text}"></x-app-button>`:""}\n    ${(t=>t?`<x-app-button button-type="secundary" button-icon="${t.icon}" button-text="${t.text}"></x-app-button>`:"")(t.actions.KO)}\n            </div>\n        </div>\n    </div>`;var e}xtag.create("x-app-dashboard-box",q),function(t){t.prepend="prepend",t.append="append"}(P||(P={})),function(t){t.ok="check-circle",t.ko="times-circle"}(T||(T={})),function(t){t.ok="Aceptar",t.ko="Cancelar"}(w||(w={})),function(t){t.alert="attention",t.success="success",t.error="error",t.info="information",t.confirm="confirm"}(E||(E={})),function(t){t.alert="alert",t.confirm="confirm"}(k||(k={})),function(t){t.alert="ATENCIÓN",t.success="ÉXITO",t.error="ERROR",t.info="INFORMACIÓN",t.confirm="CONFIRMACIÓN"}(I||(I={})),function(t){t.alert="exclamation-circle",t.success="check-circle",t.error="times-circle",t.info="info-circle",t.confirm="question-circle"}(L||(L={}));class X extends XTagElement{constructor(t){var e,n,i,o,s,a;switch(super(),this._config=t,t.status=t.type==k.confirm?E.confirm:t.status,t.context={attachMethod:(null===(e=t.context)||void 0===e?void 0:e.attachMethod)||P.append,selector:(null===(n=t.context)||void 0===n?void 0:n.selector)||":root"},t.status){case E.alert:t.title=t.title||I.error,t.icon=t.icon||L.error;break;case E.info:t.title=t.title||I.info,t.icon=t.icon||L.info;break;case E.error:t.title=t.title||I.error,t.icon=t.icon||L.error;break;case E.success:t.title=t.title||I.success,t.icon=t.icon||L.success;break;case E.confirm:t.title=t.title||I.confirm,t.icon=t.icon||L.confirm;break;default:t.title=I.alert,t.icon=L.alert,t.status=E.alert}t.actions={OK:{icon:(null===(i=t.actions)||void 0===i?void 0:i.OK.icon)||T.ok,text:(null===(o=t.actions)||void 0===o?void 0:o.OK.text)||w.ok},KO:t.type==k.confirm?{icon:(null===(s=t.actions)||void 0===s?void 0:s.KO.icon)||T.ko,text:(null===(a=t.actions)||void 0===a?void 0:a.KO.text)||w.ko}:void 0}}connectedCallback(){setTimeout(()=>{if(this.isConnected){if(!this._config)throw new Error("xDialog needs to be called through the Constructor щ（ﾟДﾟщ）");this.render(this._config.status).then(()=>{setTimeout(()=>{this.classList.add("--connected")},100)})}})}detach(t){this.classList.add("--disconnected"),this.classList.remove("--connected"),setTimeout(()=>{this.remove(),t()},300)}show(){if(this._config.context.attachMethod==P.append)document.querySelector(this._config.context.selector).appendChild(this);else{const t=document.querySelector(this._config.context.selector),e=t.querySelector("x-app-dialog:last-of-type"),n=t.querySelector(":first-child");e?e.parentNode.insertBefore(this,e.nextSibling):n.parentNode.insertBefore(this,n)}return new Promise((t,e)=>{xtag.addEvent(this,"click:delegate(.x-app-button.--primary)",e=>{e.preventDefault(),this.detach(t)}),xtag.addEvent(this,"click:delegate(.x-app-button.--secundary)",t=>{t.preventDefault(),this.detach(e)});const n=t=>{"Escape"===t.code&&(window.removeEventListener("keyup",n),this.detach(e))};window.addEventListener("keyup",n)})}"attention::template"(){return U(this._config)}"information::template"(){return U(this._config)}"success::template"(){return U(this._config)}"error::template"(){return U(this._config)}"confirm::template"(){return U(this._config)}}xtag.create("x-app-dialog",X),n(5);class H extends XTagElement{constructor(t,e){super(),this._svg="",this._svgFallback="(?)",this.TYPES={solid:"solid",regular:"regular",brands:"brands"},t&&(this._iconName=t),e&&(this._iconPath=e)}connectedCallback(){setTimeout(()=>{this.isConnected&&this.getIcon(this._iconName,this._iconPath).then(t=>{this._svg=t,this.render("svg"),this._iconColor&&(this.querySelector("svg").style.fill=this._iconColor)})})}set"name::attr"(t){this._iconName=t}set"iconName::attr"(t){this._iconName=t}set"iconPath::attr"(t){this._iconPath=t}set"iconType::attr"(t){this._iconType=t}set"iconColor::attr"(t){this._iconColor=t}"svg::template"(){return this._svg}getIcon(t,e){let n;return n=(e||"scripts/siebel/custom/AITScripts/AIT-UI/svgs/"+(this._iconType||this.TYPES.solid))+`/${t}.svg`,new Promise((t,e)=>{let i=window.localStorage.getItem("ait-x-icon-"+this._iconName);i?t(i):fetch(n).then(t=>{if(t.ok)return t.text();throw new Error("ait-x-icon: Icon not found ¯\\_(ツ)_/¯")}).then(e=>{window.localStorage.setItem("ait-x-icon-"+this._iconName,e),t(e)}).catch(t=>{this._svg=this._svgFallback,this.render("svg"),e(),console.error(t)})})}}xtag.create("ait-x-icon",H);class j extends XTagElement{constructor(t){super(),t=t||{}}get data(){return this._editor.getData()}set data(t){this._editor.setData(t)}connectedCallback(){setTimeout(()=>{this.isConnected&&(this._textArea=this.appendChild(document.createElement("textarea")),this._editor=CKEDITOR.replace(this._textArea,{toolbar:[{name:"document",items:["Source"]},{name:"clipboard",items:["Undo","Redo"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["base64image","Table","HorizontalRule","SpecialChar"]},{name:"colors",items:["TextColor","BGColor"]},{name:"style",items:["Styles","Format","Font","FontSize"]}]}))})}}xtag.create("x-admin-pdf-header",j);class G extends XTagElement{constructor(t){super(),t=t||{}}get data(){return this._editor.getData()}set data(t){this._editor.setData(t)}connectedCallback(){setTimeout(()=>{this.isConnected&&(this._textArea=this.appendChild(document.createElement("textarea")),this._editor=CKEDITOR.replace(this._textArea,{toolbar:[{name:"clipboard",items:["Undo","Redo"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["base64image","Table","HorizontalRule","SpecialChar"]},{name:"colors",items:["TextColor","BGColor"]}]}))})}}xtag.create("x-admin-pdf-footer",G);class z extends XTagElement{constructor(t){super(),this._setConfig(t)}_setConfig(t){this._modalTitle=t.title||"Busqueda",this._modalContent=t.content}show(){const t=document.body,e=t.querySelector("x-app-modal:last-of-type"),n=t.querySelector(":first-child");return e?e.parentNode.insertBefore(this,e.nextSibling):n.parentNode.insertBefore(this,n),new Promise((t,e)=>{xtag.addEvent(this,"click:delegate(.x-app-modal__close)",t=>{t.preventDefault(),this.detach(e)});const n=t=>{"Escape"===t.code&&(window.removeEventListener("keyup",n),this.detach(e))};window.addEventListener("keyup",n)})}detach(t){this.classList.add("--disconnected"),this.classList.remove("--connected"),setTimeout(()=>{this.remove()},500)}connectedCallback(){setTimeout(()=>{this.isConnected&&this.render()})}set content(t){this._modalContent=t}get content(){return this._modalContent}"::template"(){return setTimeout(()=>{this.querySelector(".x-app-modal__content").appendChild(this._modalContent),this.classList.remove("--disconnected"),this.classList.add("--connected")}),`\n        <div class="x-app-overlay">\n            <div class="x-app-modal">\n                <div class="x-app-modal__header">\n                    <h3 class="x-app-modal__title">${[this._modalTitle,this._modalContent][0]}</h3>\n                    <button class="x-app-modal__close">\n                        <ait-x-icon icon-name="times"></ait-x-icon>\n                    </button>\n                </div>\n                <div class="x-app-modal__content">\n                \n                </div>\n            </div>\n        </div>\n    `}}xtag.create("x-app-modal",z);const J="scripts/siebel/custom/AITScripts/AIT-UI",K="js";var W,Y,Z;!function(t){t["Cuenta de Ahorros"]="AHORROS",t["Cuenta Corriente"]="CORRIENTE"}(W||(W={})),function(t){t.CONTACT="CONTACT",t.ACCOUNT="ACCOUNT"}(Y||(Y={})),function(t){t.cancel="Cerrada Cancelada",t.close="Closed",t.disable="disable",t.inProgress="In Progress"}(Z||(Z={}));const Q=()=>"undefined"!=typeof AITSiebelApp,tt=Q,et=Q;function nt(t,e,n){return{currency:(t,e)=>{const n=Object.assign({sign:"RD$",thousandMark:",",decimalMark:".",decimalLength:2,useDecimal:!0,incDecimal:!1},e);if(t=Number(t||"").toString()){let e,i;if(n.useDecimal){let o=t.split(".")[0],s=t.split(".")[1]||"0";e=n.incDecimal?t.slice(0,-n.decimalLength)||"0":o,i=n.incDecimal?t.slice(-n.decimalLength):(s+new Array(n.decimalLength+1).join("0")).slice(0,n.decimalLength)}else e=t;return`${n.sign}${e.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousandMark)}${i?n.decimalMark+i:""}`}},homologate:(t,e)=>((Array.isArray(e.source)?e.source:[e.source]).filter(n=>n[e.from||"value"]===t)[0]||{})[e.to||"label"]||t,fillWith:(t,e={})=>{const n=e.range||[0,t.length],i=t.length;t=t?t.toString().slice(n[0],n[1]):"";const o=e.total,s=new Array(o?1+(o>t.length?o-t.length:0):i-t.length+1).join(e.char||"*");return"ltr"===e.dir?t+s:s+t}}[e](t,n)}String.prototype.xFilter=function(t,e){return nt(this,t,e)};class it extends XTagElement{constructor(t){super(),this._model={},this.CONFIG={hostAPIs:AIT.GetSystemPreference("WEBAPPLETS_HOST"),fetchTimeOut:Number(AIT.GetSystemPreference("WEBAPPLETS_TIMEOUT"))||3e4},this._ACCOUNTTYPE={"Cuenta de Ahorros":W["Cuenta de Ahorros"],"Cuenta Corriente":W["Cuenta Corriente"]},this._SRCOMMENTS="",this._getDeepValue=function(t,e){let n=t;for(let t in e)if(e.hasOwnProperty(t)){if(!n)return;n=n[e[t]]}return n},this._setDeepValue=function(t,e,n){t=t||{};for(let i=0;i<e.length;i++)t=t[e[i]]=i===e.length-1?n:t[e[i]]||(/(^\d+$|\[([\w\W]*?)\])/g.test(e[i+1])?[]:{})},t&&(this.applet=t,this.BC=this.applet.GetPM().Get("GetBusComp"),this._BCDATA=this.BC.GetRecordSet()[0],this._USER=SiebelApp.S_App.GetUserName(),this._PARTYTYPE=this._BCDATA["Contact Id"]?Y.CONTACT:Y.ACCOUNT),this.setAttributeNode(document.createAttribute("x-application"))}_makeLov(t){const e=t.arr.map(e=>(e.label=e[t.label]||e.Value,e.value=e[t.value]||e.Name,e));return t.type?e.filter(e=>t.type===e.Type):e}closeApp(t){this._SRCOMMENTS+=t.comments,t.action=t.action||Z.close;const e=()=>{let e=!1!==t.blur?"closed blurred":"";this.closest("[x-container]").setAttribute("x-status",e)};t.action!==Z.disable?(this.preloader().increase(),_({BOName:"List Of Values",BCName:"List Of Values",searchSpec:'Type = "SR_STATUS" and Active = "Y"',fields:["Type","Active","Name","Value","High","Low","Description"]}).then(n=>{const i=n.filter(e=>t.action===e.Name)[0];return b({BCName:"BPD Service Request Light",BOName:"Service Request",searchSpec:`[Id] = '${this._BCDATA.Id}'`,fields:[{name:"Status",value:i.Value},{name:"Description",value:this._SRCOMMENTS}]}).then(n=>{this.preloader().decrease(),t.keepAlive||e(),D()},t=>{this.preloader().decrease(),new X({status:E.error,message:`Ocurrio un error al actualizar el estado de la solicitud: <b>${this._BCDATA.Id}</b><br>Realice el cambio de forma manual`}).show()})})):e()}fetch(t){let e=!1,n=new N;const i=Object.assign({Accept:"application/json","Content-Type":"application/json"},t.headers),o=Object.assign({host:this.CONFIG.hostAPIs,timeout:this.CONFIG.fetchTimeOut,method:"POST"},t);return o.headers=i,"multipart/form-data"===o.headers["Content-Type"]&&delete o.headers["Content-Type"],{init:()=>{let i={};const s=`${o.host}/${t.api?t.api+"/":""}${t.endpoint}`;return new Promise((a,r)=>{this.preloader().increase(),n.fetch(s,{headers:o.headers,body:(()=>{if(-1===["GET","HEAD"].indexOf(o.method))return"application/json"===o.headers["Content-Type"]?JSON.stringify(o.body):o.body})(),method:o.method},o.timeout).then(n=>{if(i=n,!e)return O(x.log,n.headers.get("Content-Type")),n.ok?t.responseMethod?n[t.responseMethod]():n.json():"application/json"===n.headers.get("Content-Type")?n.json():void r(n)}).then(t=>{this.preloader().decrease(),i.data=t,a(i)}).catch(t=>{this.preloader().decrease(),-1!==t.message.indexOf("aborted")&&(i=new Response(new Blob,{status:408,statusText:"Se excedió el tiempo de espera del servicio"})),i.status||(console.warn("(⩾﹏⩽) https://http.cat/417"),i=new Response(new Blob,{status:417,statusText:"Error desconocido"})),a(i)})})},abort:()=>{this.preloader().decrease(),e=!0,n.abort()}}}preloader(){var t;return this.$xAppPreloader=null===(t=this.closest("[x-container]")||this.closest("[x-application]"))||void 0===t?void 0:t.querySelector("x-app-preloader"),{increase:()=>{var t;null===(t=this.$xAppPreloader)||void 0===t||t.increase()},decrease:()=>{var t;null===(t=this.$xAppPreloader)||void 0===t||t.decrease()}}}init(){}get model(){return this.querySelectorAll("[x-model]").forEach(t=>{let e=t.getAttribute("x-model").split(".");void 0!==t.value&&this._setDeepValue(this._model,e,t.value)}),this._model}set model(t){this._model=Object.assign(this._model,t),this.querySelectorAll("[x-model]").forEach(t=>{let e=t.getAttribute("x-model").split(".");t.value=this._getDeepValue(this._model,e)||""})}}class ot extends it{constructor(){super()}get navigationController(){return this._navController}set navigationController(t){this._navController=t}get parentController(){return this._parentController}set parentController(t){this._parentController=t}viewDidLoad(){}}class st extends ot{constructor(t){super(),this.url=t,this.iframe=document.createElement("iframe"),this.appendChild(this.iframe)}viewDidLoad(){super.viewDidLoad(),this.iframe.src=this.url}}xtag.create("ait-viewer",st);class at extends HTMLElement{constructor(){super(),this._viewControllers=[],this._rootVC=null,this.setAttributeNode(document.createAttribute("ait-nav-controller")),this._header=document.createElement("header"),this._titleItem=document.createElement("div"),this._titleItem.setAttributeNode(document.createAttribute("title")),this._titleItem.appendChild(document.createTextNode("")),this._header.appendChild(this._titleItem);const t=document.createElement("div");t.setAttributeNode(document.createAttribute("items")),this._leftItem=document.createElement("div"),this._leftItem.setAttributeNode(document.createAttribute("leading")),t.appendChild(this._leftItem),this._rightItem=document.createElement("div"),this._rightItem.setAttributeNode(document.createAttribute("trailing")),t.appendChild(this._rightItem),this._header.appendChild(t),this.appendChild(this._header),this._content=document.createElement("content"),this.appendChild(this._content)}root(t){return null!=this._rootVC||(this._rootVC=t,this.push(t)),this}get parentController(){return this._parentController}set parentController(t){this._parentController=t}get headerEl(){return this._header}get titleEl(){return this._titleItem}trailingItems(t){return this._rightItem.innerHTML="",t.forEach(t=>{this._rightItem.appendChild(t)}),this}leadingItems(t){return this._leftItem.innerHTML="",t.forEach(t=>{this._leftItem.appendChild(t)}),this}get viewControllers(){return this._viewControllers}push(t){t.navigationController=this,t.parentController=this;let e=document.createElement("div");e.setAttributeNode(document.createAttribute("nav-child-controller")),this._viewControllers.push(t),e.appendChild(t),this._content.appendChild(e);try{t.viewDidLoad()}catch(t){console.error(t)}}popToRootViewController(){}pop(t){t.navigationController=null}}class rt extends at{constructor(){super()}}customElements.define("ait-nav-viewer",rt);const lt=t=>{try{AITSiebelApp.presentFile(t,"Titulo")}catch(n){let i=document.createElement("button");i.appendChild(document.createTextNode("close")),i.addEventListener("mouseup",(function(t){t.target.closest("ait-modal-container").close()}));const o=new st(t);var e=(new rt).root(o).trailingItems([i]);e.headerEl.style.backgroundColor="#012169",e.titleEl.style.color="white",AITModalPresentation.present(e)}};class ct extends HTMLElement{constructor(t){super(),this.childControllers=t,this.childControllers.forEach((t,e)=>{t.controller.parentController=this}),this.setAttributeNode(document.createAttribute("ait-tab-controller")),this.navHeader=document.createElement("nav"),this.navUl=document.createElement("ul"),this.navHeader.appendChild(this.navUl),this.appendChild(this.navHeader),this.tabContainer=document.createElement("content"),this.appendChild(this.tabContainer)}get parentController(){return this._parentController}set parentController(t){this._parentController=t}appendElement(t){this.childControllers.push(t),t.controller.parentController=this,this.renderController()}connectedCallback(){this.renderController()}renderController(){this.navUl.innerHTML="",this.tabContainer.innerHTML="",0!=this.childControllers.length&&(this.childControllers.forEach((t,e)=>{let n=document.createElement("li");n.appendChild(document.createTextNode(t.name)),n.addEventListener("mouseup",function(t){this.setActiveController(e)}.bind(this)),this.navUl.appendChild(n);let i=document.createElement("div");i.setAttributeNode(document.createAttribute("ait-tab-child-controller")),i.appendChild(t.controller),this.tabContainer.appendChild(i)}),this.setActiveController(0))}setActiveController(t){const e=this.navUl.querySelector("li[active]");e&&e.removeAttribute("active"),this.navUl.querySelectorAll("li")[t].setAttributeNode(document.createAttribute("active"));const n=this.tabContainer.querySelector("div[active]");n&&n.removeAttribute("active"),this.tabContainer.querySelectorAll("div[ait-tab-child-controller]")[t].setAttributeNode(document.createAttribute("active")),this.childControllers[t].controller.viewDidLoad()}}if(window.require.toUrl("").split("/").pop(),!document.getElementById("AIT-BPD-Common")){var dt=document.getElementsByTagName("head")[0],ht=document.createElement("link");ht.id="AIT-BPD-Common",ht.rel="stylesheet",ht.type="text/css",ht.href="js/AIT-BPD-Common.css?ait-v="+window.cacheUrlArgs,ht.media="all",dt.appendChild(ht)}var ut=new o;if(document.body.appendChild(ut),AITModalPresentation=window.AITModalPresentation=ut,AITModal=window.AITModal=d,AITHostUIContainer=window.AITHostUIContainer=u,"undefined"!=window.AIT_BDP_COMMON){const t={};t.SBLRunBS=p,t.SBLRunProcess=m,t.SBLGetFields=_,t.SBLSetFields=b,t.refreshSiebel=D,t.isAndroid=tt(),t.isMobileApp=et(),t.X={dialog:X,modalSelector:$},t.presentViewer=lt,window.AIT_BDP_COMMON=t,console.log("(^^)b")}}])}));